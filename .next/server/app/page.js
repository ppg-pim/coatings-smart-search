(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9829:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(908),s(1506),s(5866);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,908)),"C:\\Users\\rpram\\Downloads\\coating-product-search\\Coatings\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\rpram\\Downloads\\coating-product-search\\Coatings\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\rpram\\Downloads\\coating-product-search\\Coatings\\app\\page.tsx"],m="/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4423:(e,t,s)=>{Promise.resolve().then(s.bind(s,8743))},8511:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7472:()=>{},8743:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(326),a=s(7577);function l(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(""),[c,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(""),[g,b]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[y,v]=(0,a.useState)(!1),[N,w]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[S,P]=(0,a.useState)([]),[_,A]=(0,a.useState)(!0),O=async t=>{t.preventDefault(),i(!0),d(""),l([]),m(null),u(null);try{let t=await fetch("/api/smart-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,filters:{family:p,productType:g,productModel:f}})}),s=await t.json();if(!t.ok)throw Error(s.error||"Search failed");"comparison"===s.questionType?(u(s),l(s.products||[])):"specific"===s.questionType?(m(s),s.fullProduct&&l([s.fullProduct])):l(s.results||[])}catch(e){d(e.message)}finally{i(!1)}},D=p||g||f,L=e=>{let t=["sku","name","product_name","productname","description","product_description"],s=["created_at","updated_at","createdat","updatedat"],r=["searchable_text","searchabletext","searchable"],a={},l={},n={},i={},o=new Set;return Object.entries(e).forEach(([e,d])=>{let c=e.toLowerCase();o.has(c)||(o.add(c),t.includes(c)?a[e]=d:s.includes(c)?l[e]=d:r.includes(c)?n[e]=d:i[e]=d)}),{priority:a,other:i,searchable:n,footer:l}},T=e=>{let t={sku:"SKU",product_name:"Product Name",productname:"Product Name",product_description:"Description"},s=e.toLowerCase();return t[s]?t[s]:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},q=(e,t)=>{let s=e.toLowerCase();if((s.includes("created")||s.includes("updated"))&&"string"==typeof t&&t.includes("T"))try{return new Date(t).toLocaleString()}catch{}return String(t)},E=e=>{let t=new Set,s=new Set;return e.forEach(e=>{Object.keys(e).forEach(e=>{let r=e.toLowerCase();s.has(r)||(t.add(e),s.add(r))})}),Array.from(t)},M=(e,t)=>new Set(t.map(t=>t[e])).size>1;return(0,r.jsxs)("main",{className:"min-h-screen p-8 max-w-7xl mx-auto bg-gray-50",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8 mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2 text-center",style:{color:"#0078a9"},children:"Smart Coatings Search"}),r.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Search coatings using natural language"}),(0,r.jsxs)("form",{onSubmit:O,children:[(0,r.jsxs)("div",{className:"flex gap-4 mb-4",children:[r.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Ask anything about coatings... (e.g., 'Compare coating A and coating B')",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0078a9] focus:border-transparent"}),(0,r.jsxs)("button",{type:"button",onClick:()=>v(!y),className:"px-6 py-3 border-2 rounded-lg font-medium transition-colors",style:{borderColor:"#0078a9",color:y?"#fff":"#0078a9",backgroundColor:y?"#0078a9":"transparent"},children:[r.jsx("svg",{className:"w-5 h-5 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filters",D&&r.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full",children:[p,g,f].filter(Boolean).length})]}),r.jsx("button",{type:"submit",disabled:n||!e.trim(),className:"px-8 py-3 text-white rounded-lg hover:opacity-90 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium transition-colors",style:{backgroundColor:"#0078a9"},children:n?"Searching...":"Search"})]}),y&&(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",style:{color:"#0078a9"},children:["Filter Options ",_&&r.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Loading...)"})]}),D&&r.jsx("button",{type:"button",onClick:()=>{h(""),b(""),j("")},className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Clear All Filters"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Family (",N.length," options)"]}),(0,r.jsxs)("select",{value:p,onChange:e=>h(e.target.value),disabled:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0078a9] focus:border-transparent disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"All Families"}),N.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Type (",k.length," options)"]}),(0,r.jsxs)("select",{value:g,onChange:e=>b(e.target.value),disabled:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0078a9] focus:border-transparent disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"All Types"}),k.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Model (",S.length," options)"]}),(0,r.jsxs)("select",{value:f,onChange:e=>j(e.target.value),disabled:_,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0078a9] focus:border-transparent disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"All Models"}),S.map(e=>r.jsx("option",{value:e,children:e},e))]})]})]}),D&&(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),p&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:["Family: ",p,r.jsx("button",{type:"button",onClick:()=>h(""),className:"ml-2 text-blue-600 hover:text-blue-800",children:"\xd7"})]}),g&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:["Type: ",g,r.jsx("button",{type:"button",onClick:()=>b(""),className:"ml-2 text-green-600 hover:text-green-800",children:"\xd7"})]}),f&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:["Model: ",f,r.jsx("button",{type:"button",onClick:()=>j(""),className:"ml-2 text-purple-600 hover:text-purple-800",children:"\xd7"})]})]})]})]})]}),o&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg",children:[r.jsx("strong",{children:"Error:"})," ",o]}),x&&(()=>{if(!x||!x.products||x.products.length<2)return null;let e=x.products,t=E(e),s=["sku","product_name","productname","name"],a=["created_at","updated_at","createdat","updatedat","searchable_text","searchabletext"],l=t.filter(e=>s.includes(e.toLowerCase())),n=t.filter(e=>!s.includes(e.toLowerCase())&&!a.includes(e.toLowerCase()));return(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-6 rounded-lg",children:[r.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Coating Comparison"}),(0,r.jsxs)("p",{className:"text-blue-700",children:["Comparing ",e.length," coatings - Differences are highlighted"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[r.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700 w-1/4 sticky left-0 bg-gray-50 z-10",children:"Attribute"}),e.map((e,t)=>(0,r.jsxs)("th",{className:"px-6 py-4 text-left text-sm font-semibold",style:{color:"#0078a9"},children:["Coating ",t+1]},t))]})}),(0,r.jsxs)("tbody",{children:[l.map(t=>{let s=M(t,e);return(0,r.jsxs)("tr",{className:`border-b border-gray-200 ${s?"bg-yellow-50":"hover:bg-gray-50"}`,children:[r.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-700 sticky left-0 bg-white z-10",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[T(t),s&&r.jsx("span",{className:"inline-block w-2 h-2 bg-yellow-500 rounded-full",title:"Different values"})]})}),e.map((e,a)=>r.jsx("td",{className:`px-6 py-4 text-sm text-gray-900 ${s?"font-semibold":""}`,children:q(t,e[t])||"-"},a))]},t)}),r.jsx("tr",{className:"bg-gray-100",children:r.jsx("td",{colSpan:e.length+1,className:"px-6 py-3 text-xs font-bold uppercase tracking-wide",style:{color:"#0078a9"},children:"Technical Specifications"})}),n.map(t=>{let s=M(t,e);return(0,r.jsxs)("tr",{className:`border-b border-gray-200 ${s?"bg-yellow-50":"hover:bg-gray-50"}`,children:[r.jsx("td",{className:"px-6 py-3 text-sm text-gray-700 sticky left-0 bg-white z-10",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[T(t),s&&r.jsx("span",{className:"inline-block w-2 h-2 bg-yellow-500 rounded-full",title:"Different values"})]})}),e.map((e,a)=>r.jsx("td",{className:`px-6 py-3 text-sm text-gray-900 ${s?"font-semibold":""}`,children:q(t,e[t])||"-"},a))]},t)})]})]})})}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("span",{className:"inline-block w-3 h-3 bg-yellow-50 border border-yellow-200 rounded"}),r.jsx("span",{children:"Highlighted rows indicate differences between coatings"})]})]})})(),c&&r.jsx("div",{className:"mb-6 bg-blue-50 border-l-4 border-blue-500 p-6 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("svg",{className:"h-6 w-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Answer"}),r.jsx("p",{className:"text-blue-800 text-lg",children:c.answer}),c.extractedData&&Object.keys(c.extractedData).length>0&&(0,r.jsxs)("div",{className:"mt-4 bg-white rounded-lg p-4 border border-blue-200",children:[r.jsx("h4",{className:"font-semibold text-sm text-blue-900 mb-2",children:"Extracted Information:"}),r.jsx("div",{className:"space-y-1",children:Object.entries(c.extractedData).map(([e,t])=>(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"font-medium text-gray-700",children:[T(e),":"]})," ",r.jsx("span",{className:"text-gray-900",children:String(t)})]},e))})]})]})]})}),s.length>0&&!x&&(0,r.jsxs)("div",{children:[r.jsx("div",{className:"mb-6 flex items-center justify-between",children:r.jsx("h2",{className:"text-2xl font-semibold",style:{color:"#0078a9"},children:c?"Full Coating Details":`Found ${s.length} ${1===s.length?"result":"results"}`})}),r.jsx("div",{className:"space-y-6",children:s.map((e,t)=>{let{priority:s,other:a,searchable:l,footer:n}=L(e);return(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[Object.keys(s).length>0&&r.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:r.jsx("div",{className:"space-y-3",children:Object.entries(s).map(([e,t])=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-semibold text-sm uppercase tracking-wide",style:{color:"#0078a9"},children:[T(e),":"]})," ",r.jsx("span",{className:"text-gray-900",children:q(e,t)})]},e))})}),Object.keys(a).length>0&&(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h3",{className:"font-semibold mb-3 text-sm uppercase tracking-wide",style:{color:"#0078a9"},children:"Technical Specifications"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-6 gap-y-2 text-sm",children:Object.entries(a).map(([e,t])=>(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-gray-600 text-xs",children:T(e)}),r.jsx("span",{className:"text-gray-900 font-medium",children:q(e,t)})]},e))})]}),Object.keys(l).length>0&&r.jsx("div",{className:"mb-4 pb-4 border-b border-gray-200",children:Object.entries(l).map(([e,t])=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-semibold text-sm uppercase tracking-wide",style:{color:"#0078a9"},children:[T(e),":"]}),r.jsx("div",{className:"mt-2 text-gray-700 text-sm bg-gray-50 p-3 rounded",children:q(e,t)})]},e))}),Object.keys(n).length>0&&r.jsx("div",{className:"pt-4 border-t border-gray-200",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs text-gray-500",children:Object.entries(n).map(([e,t])=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[T(e),":"]})," ",q(e,t)]},e))})})]},t)})})]}),!n&&0===s.length&&e&&!o&&!c&&!x&&(0,r.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[(0,r.jsxs)("p",{className:"text-gray-500 text-lg",children:['You are searching for "',e,'"']}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please press the search button to send the query to the system"})]})]})}},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>n});var r=s(9510),a=s(4976),l=s.n(a);s(7272);let n={title:"Smart Coatings Search",description:"AI-powered search for coatings database"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${l().variable} antialiased`,children:e})})}},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\rpram\Downloads\coating-product-search\Coatings\app\page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,741],()=>s(9829));module.exports=r})();